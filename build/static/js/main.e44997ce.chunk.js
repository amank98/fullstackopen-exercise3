(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{22:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(17),u=n.n(c),r=(n(22),n(8)),a=n(3),o=n(2),i=n(4),s=n.n(i),j="http://localhost:3001/api/people",b=function(){return s.a.get(j).then((function(e){return e.data}))},l=function(e){return s.a.post(j,e).then((function(e){return e.data}))},f=function(e,t){return s.a.put(j+"/"+e,t).then((function(e){return e.data}))},d=function(e){return s.a.delete(j+"/"+e).then((function(e){return e}))},h=n(0),O=function(e){var t=e.message;return t?Object(h.jsx)("div",{className:"added",children:t}):null},m=function(e){var t=e.message;return t?Object(h.jsx)("div",{className:"error",children:t}):null},p=function(){var e=Object(o.useState)([]),t=Object(a.a)(e,2),n=t[0],c=t[1],u=Object(o.useState)(""),i=Object(a.a)(u,2),s=i[0],j=i[1],p=Object(o.useState)(""),x=Object(a.a)(p,2),v=x[0],g=x[1],w=Object(o.useState)(""),S=Object(a.a)(w,2),k=S[0],y=S[1],C=Object(o.useState)(!1),D=Object(a.a)(C,2),N=D[0],T=D[1],E=Object(o.useState)(!0),J=Object(a.a)(E,2),L=J[0],A=J[1],B=Object(o.useState)(null),F=Object(a.a)(B,2),I=F[0],P=F[1],U=Object(o.useState)(null),q=Object(a.a)(U,2),z=q[0],G=q[1];Object(o.useEffect)((function(){b().then((function(e){c(e)}))}),[L,I]);return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Phonebook"}),Object(h.jsx)(O,{message:I}),Object(h.jsx)(m,{message:z}),Object(h.jsx)("p",{children:"filter shown with"}),Object(h.jsx)("input",{onChange:function(e){e.preventDefault(),y(e.target.value)}}),Object(h.jsx)("br",{}),Object(h.jsx)("button",{onClick:function(){return T(!N)},children:N?"turn off filter":"turn on filter"}),Object(h.jsx)("h2",{children:"add new"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=n.find((function(e){return e.name===s}));t?window.confirm(s+" already exists. Do you want to update the number?")&&f(t.id,Object(r.a)(Object(r.a)({},t),{},{number:v})).then((function(e){P("Updated "+e.name+"'s phone number to "+e.number),setTimeout((function(){P(null)}),5e3)})):l({name:s,number:v,id:n.length+1}).then((function(e){c(n.concat(e)),P("Added "+e.name),setTimeout((function(){P(null)}),5e3),j(""),g("")}))},children:[Object(h.jsx)("input",{value:s,onChange:function(e){e.preventDefault(),j(e.target.value)}}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{value:v,onChange:function(e){e.preventDefault(),g(e.target.value)}}),Object(h.jsx)("br",{}),Object(h.jsx)("button",{type:"submit",children:"add"})]}),Object(h.jsx)("h2",{children:"Numbers"}),n.filter((function(e){return N?e.name.toLowerCase()===k.toLowerCase():e})).map((function(e){return Object(h.jsxs)(h.Fragment,{children:[" ",Object(h.jsxs)("p",{children:[" ",e.name," ",e.number," "]})," ",Object(h.jsx)("button",{onClick:function(){return function(e){window.confirm("Do you really want to remove "+e.name+"?")&&d(e.id).then((function(e){A(!L)})).catch((function(t){G(e.name+" was already removed from the db."),setTimeout((function(){G(null)}),5e3)}))}(e)},children:" delete "})," "]})}))]})};u.a.render(Object(h.jsx)(p,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.e44997ce.chunk.js.map